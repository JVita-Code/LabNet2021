@model List<LabNet2021.Tp7.MVC.Models.ShipperView>

@{
    ViewBag.Tittle = "Shipper Page";
}

    <h1>@ViewBag.Tittle</h1>


<div>
    <a href="~/Shipper/InsertUpdate" class="btn btn-success" id="btnInsert">Insert</a>
    <br /><br />
</div>

<table id="shippers" class="table table-bordered">
    <thead class="bg-primary">
        <tr>
            <th scope="col">Shipper ID</th>
            <th scope="col">Company Name</th>
            <th scope="col">Phone</th>
            <th scope="col">Update</th>
            <th scope="col">Delete</th>
        </tr>
    </thead>

    <tbody>

        @foreach (var shipper in Model)
        {
        <tr>
            <td>@shipper.ShipperID</td>
            <td>@shipper.CompanyName</td>
            <td>@shipper.Phone</td>                       
            <td>
                <input onclick="document.location.href='@Url.Content("~/Shipper/InsertUpdate/" + @shipper.ShipperID)'" class="btn btn-sm" type="button" value="Actualizar" />
            </td>
            <td>
                <input onclick="jsDelete(@shipper.ShipperID);" class="btn btn-danger" type="button" value="Delete"/>
            </td>
        </tr>
        }        

    </tbody>

</table>

<script>

    var CONTENT = "borrado";
    function jsDelete(id) {
        
        url = "/Shipper/Delete/" + id;

        $.post(url, function (data) {
            if(confirm("¿Está seguro que desea borrar el registro?"))
            if (data == CONTENT) {
                document.location.href="@Url.Content("~/Shipper/")"
            } else {
                alert("Ocurrio un error")
            }
        })
    }
    
</script>



   
